import{a as e,c as t,d as n,f as r,l as i,n as a,r as o,s,t as c,u as l}from"./lib-BRHrNJ3Y.js";import{$t as u,Bt as d,Nt as f,Qt as p,U as m,Xt as h,Zt as g,_n as _,_t as v,an as y,at as b,cn as x,dn as S,f as C,hn as w,m as T,mt as E,nn as D,o as O,s as k,sn as A,tn as j,vt as M,wt as N,zt as P}from"./index-DfLdPrjg.js";var F=y(`<span>`),I=y(`<div class="flex h-full flex-col gap-2"><div class="join w-full"><input type=search class="input input-sm join-item flex-1 flex-shrink-0 input-primary"></div><div class="overflow-x-auto rounded-md bg-base-300 whitespace-nowrap"><table><thead class="sticky top-0 z-10"></thead><tbody>`),L=y(`<tr>`),R=y(`<th class=bg-base-200><div class="flex items-center"><div>`),z=y(`<tr class="hover:!bg-primary hover:text-primary-content">`),B=y(`<td class=py-2>`),V=(e,n,r,i)=>{let a=t(e.getValue(n),r);return i({itemRank:a}),a.passed},H=()=>{let t=C();if(!T())return t(`/setup`,{replace:!0}),null;let p,[y]=v(),[H,U]=_(``),{logs:W,paused:G,setPaused:K}=m(),[q,J]=M(_([]),{name:`logsTableSorting`,storage:localStorage}),Y=[{header:y(`sequence`),accessorFn:e=>e.seq},{header:y(`type`),accessorFn:e=>e.type,cell:({row:e})=>{let t=e.original.type,n=``;switch(t){case N.Error:n=`text-error`;break;case N.Warning:n=`text-warning`;break;case N.Info:n=`text-info`;break;case N.Debug:n=`text-success`;break}return(()=>{var t=F();return g(t,n),u(t,()=>`[${e.original.type}]`),t})()}},{header:y(`payload`),accessorFn:e=>e.payload}],X=c({filterFns:{fuzzy:V},state:{get globalFilter(){return H()},get sorting(){return q()}},get data(){return W()},sortDescFirst:!0,columns:Y,onGlobalFilterChange:U,onSortingChange:J,globalFilterFn:V,getFilteredRowModel:e(),getSortedRowModel:s(),getCoreRowModel:o()});return[S(k,{get children(){return y(`logs`)}}),(()=>{var e=I(),t=e.firstChild,o=t.firstChild,s=t.nextSibling.firstChild,c=s.firstChild,m=c.nextSibling;return o.$$input=e=>U(e.target.value),u(t,S(P,{class:`join-item btn-sm btn-primary`,onClick:()=>K(e=>!e),get icon(){return j(()=>!!G())()?S(n,{}):S(r,{})}}),null),u(t,S(P,{class:`join-item btn-sm btn-primary`,onClick:()=>p?.showModal(),get icon(){return S(f,{})}}),null),u(c,S(x,{get each(){return X.getHeaderGroups()},children:e=>{let t=e();return(()=>{var e=L();return u(e,S(x,{get each(){return t.headers},children:e=>{let t=e();return(()=>{var e=R(),n=e.firstChild,r=n.firstChild;return h(r,`click`,t.column.getToggleSortingHandler(),!0),u(r,()=>a(t.column.columnDef.header,t.getContext())),u(n,()=>({asc:S(l,{}),desc:S(i,{})})[t.column.getIsSorted()]??null,null),w(()=>g(r,d(t.column.getCanSort()&&`cursor-pointer select-none`,`flex-1`))),e})()}})),e})()}})),u(m,S(A,{get each(){return X.getRowModel().rows},children:e=>(()=>{var t=z();return u(t,S(A,{get each(){return e.getVisibleCells()},children:e=>(()=>{var t=B();return u(t,()=>a(e.column.columnDef.cell,e.getContext())),t})()})),t})()})),u(e,S(O,{ref:e=>p=e}),null),w(e=>{var t=y(`search`),n=d(E(b()),`table relative rounded-none`);return t!==e.e&&D(o,`placeholder`,e.e=t),n!==e.t&&g(s,e.t=n),e},{e:void 0,t:void 0}),e})()]};p([`input`,`click`]);export{H as default};